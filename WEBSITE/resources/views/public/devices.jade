- var pageTitle="Devices"
- var mainMenuSelected='Devices'

mixin devices()
    div(class="devices")
        ul.list-unstyled
            li(v-for="device in devicesFiltered")
                a("v-bind:href"="'device.html#'+device.id") {{device.name}} {{device.price}}
mixin filters()
    .col-md-12.text-center.app-devices__filters
        ul.list-unstyled.list-inline
            li(v-for="(filtersKey, filters) in content.filters")
                div(v-if="filters != null", class="dropdown")
                    p.dropdown-toggle(data-toggle="dropdown") {{filtersKey}}&nbsp;&nbsp;
                        i.material-icons expand_more
                    ul.list-unstyled.app-devices-filters__section-content.dropdown-menu
                        li(v-for="filter in filters")
                            a("v-on:click"="filterClicked(filter, filtersKey, $event)" href="#") {{filterText(filter, filtersKey)}}
                div(v-else)
                    a("v-on:click"="specialFilterClicked(filtersKey, $event)" href="#") {{filtersKey}}
doctype html
html(lang="en")
    include ../includes/head.jade
    body
        include ../includes/header.jade
        include ../includes/breadcrumb.jade
        br
        devices(inline-template "v-bind:locations.sync"="locations")
            div(class="container")
                //sub menu
                .row
                    .col-md-12
                        ul(class="nav nav-tabs app-home__principal-links app-devices-nav")#sub
                            li(v-for="type in types", class="app-home__principal-link")
                                a("v-bind:href"="type.url" data-toggle="tab" class="app-home__principal-link--img-link")
                                    img("v-bind:src"="type.img", class="app-home__principal-link--img")
                                    span(class="app-home__principal-link--text") {{type.name}}
                                    
                //div(class="error") {{ error }}
                br
                br
                .row
                    +filters()
                .row
                    .col-md-12
                        div(class="tab-content")
                            div("v-bind:id"="type.name.toLowerCase()" class="tab-pane fade row" v-for="type in types")
                                .col-md-12
                                    +devices()
        include ../includes/footer.jade